{
  "version": 3,
  "sources": ["../../theme/src/js/components/navigation.js", "../../theme/src/js/main.js"],
  "sourcesContent": ["export class MainNavigation {\n    constructor() {\n      this.header = document.querySelector('.site-header');\n      this.toggle = document.querySelector('.nav-toggle');\n      this.nav = document.querySelector('.main-nav');\n      this.navItems = this.nav?.querySelectorAll('.main-nav__item');\n      this.dropdowns = this.nav?.querySelectorAll('.main-nav__submenu');\n      this.isOpen = false;\n  \n      this.init();\n    }\n  \n    init() {\n      this.toggle.addEventListener('click', () => this.toggleMenu());\n      window.addEventListener('resize', () => this.handleResize());\n      window.addEventListener('scroll', () => this.handleScroll());\n      this.initDropdowns();\n      this.initFocusTrap();\n      this.closeOnOutsideClick();\n      this.closeOnEscape();\n    }\n  \n    toggleMenu() {\n      this.isOpen = !this.isOpen;\n      this.toggle.setAttribute('aria-expanded', this.isOpen);\n      this.nav.setAttribute('aria-expanded', this.isOpen);\n  \n      if (this.isOpen) {\n        document.body.style.overflow = 'hidden';\n      } else {\n        document.body.style.overflow = '';\n      }\n    }\n  \n    handleResize() {\n      if (window.innerWidth >= 768 && this.isOpen) {\n        this.closeMenu();\n      }\n    }\n  \n    handleScroll() {\n      const scrollTop = window.scrollY || document.documentElement.scrollTop;\n      if (scrollTop > 0) {\n        this.header.classList.add('site-header--scrolled');\n      } else {\n        this.header.classList.remove('site-header--scrolled');\n      }\n    }\n  \n    closeMenu() {\n      this.isOpen = false;\n      this.toggle.setAttribute('aria-expanded', false);\n      this.nav.setAttribute('aria-expanded', false);\n      document.body.style.overflow = '';\n    }\n  \n    initDropdowns() {\n      this.navItems.forEach((item) => {\n        const link = item.querySelector('.main-nav__link');\n        const submenu = item.querySelector('.main-nav__submenu');\n        \n        if (submenu) {\n          // Set initial aria state\n          link.setAttribute('aria-expanded', 'false');\n          \n          link.addEventListener('click', (e) => {\n            e.preventDefault();\n            const isExpanded = link.getAttribute('aria-expanded') === 'true';\n            this.closeAllDropdowns();\n            \n            if (!isExpanded) {\n              link.setAttribute('aria-expanded', 'true');\n              submenu.classList.add('show');\n            }\n          });\n        }\n      });\n    }\n    \n  \n    closeAllDropdowns() {\n      this.navItems.forEach((item) => {\n        const toggle = item.querySelector('.main-nav__link');\n        const submenu = item.querySelector('.main-nav__submenu');\n        if (toggle && submenu) {\n          toggle.setAttribute('aria-expanded', 'false');\n          submenu.classList.remove('show');\n        }\n      });\n    }\n  \n    closeOnOutsideClick() {\n      document.addEventListener('click', (e) => {\n        if (!this.nav.contains(e.target) && !this.toggle.contains(e.target)) {\n          this.closeMenu();\n          this.closeAllDropdowns();\n        }\n      });\n    }\n  \n    closeOnEscape() {\n      document.addEventListener('keydown', (e) => {\n        if (e.key === 'Escape') {\n          this.closeMenu();\n          this.closeAllDropdowns();\n        }\n      });\n    }\n  \n    initFocusTrap() {\n      const focusableElements = this.nav?.querySelectorAll(\n        'a[href], button, input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n  \n      if (focusableElements?.length) {\n        const firstFocusable = focusableElements[0];\n        const lastFocusable = focusableElements[focusableElements.length - 1];\n  \n        this.nav.addEventListener('keydown', (e) => {\n          if (e.key === 'Tab') {\n            if (e.shiftKey && document.activeElement === firstFocusable) {\n              e.preventDefault();\n              lastFocusable.focus();\n            } else if (!e.shiftKey && document.activeElement === lastFocusable) {\n              e.preventDefault();\n              firstFocusable.focus();\n            }\n          }\n        });\n      }\n    }\n  }\n    ", "import { MainNavigation } from './components/navigation.js';\n\n// Initialize the navigation when the DOM is fully loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  new MainNavigation();\n});"],
  "mappings": ";;AAAO,MAAM,iBAAN,MAAqB;AAAA,IACxB,cAAc;AACZ,WAAK,SAAS,SAAS,cAAc,cAAc;AACnD,WAAK,SAAS,SAAS,cAAc,aAAa;AAClD,WAAK,MAAM,SAAS,cAAc,WAAW;AAC7C,WAAK,WAAW,KAAK,KAAK,iBAAiB,iBAAiB;AAC5D,WAAK,YAAY,KAAK,KAAK,iBAAiB,oBAAoB;AAChE,WAAK,SAAS;AAEd,WAAK,KAAK;AAAA,IACZ;AAAA,IAEA,OAAO;AACL,WAAK,OAAO,iBAAiB,SAAS,MAAM,KAAK,WAAW,CAAC;AAC7D,aAAO,iBAAiB,UAAU,MAAM,KAAK,aAAa,CAAC;AAC3D,aAAO,iBAAiB,UAAU,MAAM,KAAK,aAAa,CAAC;AAC3D,WAAK,cAAc;AACnB,WAAK,cAAc;AACnB,WAAK,oBAAoB;AACzB,WAAK,cAAc;AAAA,IACrB;AAAA,IAEA,aAAa;AACX,WAAK,SAAS,CAAC,KAAK;AACpB,WAAK,OAAO,aAAa,iBAAiB,KAAK,MAAM;AACrD,WAAK,IAAI,aAAa,iBAAiB,KAAK,MAAM;AAElD,UAAI,KAAK,QAAQ;AACf,iBAAS,KAAK,MAAM,WAAW;AAAA,MACjC,OAAO;AACL,iBAAS,KAAK,MAAM,WAAW;AAAA,MACjC;AAAA,IACF;AAAA,IAEA,eAAe;AACb,UAAI,OAAO,cAAc,OAAO,KAAK,QAAQ;AAC3C,aAAK,UAAU;AAAA,MACjB;AAAA,IACF;AAAA,IAEA,eAAe;AACb,YAAM,YAAY,OAAO,WAAW,SAAS,gBAAgB;AAC7D,UAAI,YAAY,GAAG;AACjB,aAAK,OAAO,UAAU,IAAI,uBAAuB;AAAA,MACnD,OAAO;AACL,aAAK,OAAO,UAAU,OAAO,uBAAuB;AAAA,MACtD;AAAA,IACF;AAAA,IAEA,YAAY;AACV,WAAK,SAAS;AACd,WAAK,OAAO,aAAa,iBAAiB,KAAK;AAC/C,WAAK,IAAI,aAAa,iBAAiB,KAAK;AAC5C,eAAS,KAAK,MAAM,WAAW;AAAA,IACjC;AAAA,IAEA,gBAAgB;AACd,WAAK,SAAS,QAAQ,CAAC,SAAS;AAC9B,cAAM,OAAO,KAAK,cAAc,iBAAiB;AACjD,cAAM,UAAU,KAAK,cAAc,oBAAoB;AAEvD,YAAI,SAAS;AAEX,eAAK,aAAa,iBAAiB,OAAO;AAE1C,eAAK,iBAAiB,SAAS,CAAC,MAAM;AACpC,cAAE,eAAe;AACjB,kBAAM,aAAa,KAAK,aAAa,eAAe,MAAM;AAC1D,iBAAK,kBAAkB;AAEvB,gBAAI,CAAC,YAAY;AACf,mBAAK,aAAa,iBAAiB,MAAM;AACzC,sBAAQ,UAAU,IAAI,MAAM;AAAA,YAC9B;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAGA,oBAAoB;AAClB,WAAK,SAAS,QAAQ,CAAC,SAAS;AAC9B,cAAM,SAAS,KAAK,cAAc,iBAAiB;AACnD,cAAM,UAAU,KAAK,cAAc,oBAAoB;AACvD,YAAI,UAAU,SAAS;AACrB,iBAAO,aAAa,iBAAiB,OAAO;AAC5C,kBAAQ,UAAU,OAAO,MAAM;AAAA,QACjC;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,sBAAsB;AACpB,eAAS,iBAAiB,SAAS,CAAC,MAAM;AACxC,YAAI,CAAC,KAAK,IAAI,SAAS,EAAE,MAAM,KAAK,CAAC,KAAK,OAAO,SAAS,EAAE,MAAM,GAAG;AACnE,eAAK,UAAU;AACf,eAAK,kBAAkB;AAAA,QACzB;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,gBAAgB;AACd,eAAS,iBAAiB,WAAW,CAAC,MAAM;AAC1C,YAAI,EAAE,QAAQ,UAAU;AACtB,eAAK,UAAU;AACf,eAAK,kBAAkB;AAAA,QACzB;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,gBAAgB;AACd,YAAM,oBAAoB,KAAK,KAAK;AAAA,QAClC;AAAA,MACF;AAEA,UAAI,mBAAmB,QAAQ;AAC7B,cAAM,iBAAiB,kBAAkB,CAAC;AAC1C,cAAM,gBAAgB,kBAAkB,kBAAkB,SAAS,CAAC;AAEpE,aAAK,IAAI,iBAAiB,WAAW,CAAC,MAAM;AAC1C,cAAI,EAAE,QAAQ,OAAO;AACnB,gBAAI,EAAE,YAAY,SAAS,kBAAkB,gBAAgB;AAC3D,gBAAE,eAAe;AACjB,4BAAc,MAAM;AAAA,YACtB,WAAW,CAAC,EAAE,YAAY,SAAS,kBAAkB,eAAe;AAClE,gBAAE,eAAe;AACjB,6BAAe,MAAM;AAAA,YACvB;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;;;AChIF,WAAS,iBAAiB,oBAAoB,MAAM;AAClD,QAAI,eAAe;AAAA,EACrB,CAAC;",
  "names": []
}
